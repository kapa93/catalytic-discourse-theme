<script type="text/javascript">
  $(document).ready(function(){
    
    $('button.toggle-sidebar').click(function() {
        $('.search-advanced-sidebar').toggle();
    });
    
    var alert = sessionStorage.getItem("alert");
    if (alert !== "hide") {
        $('.notification.is-info').addClass('appear');
    }
    
    $('.notification button.delete').click(function() {
        $('.notification.is-info').removeClass('appear');
        sessionStorage.setItem("alert", "hide");
    });
      
    // Updates badge background-color if string is not equal to 0
    var updateBadges = function() {
        $('.num span.number').each(function(){
            if ($(this).text() !== "0" ) {
                $(this).css('background-color', '#33CCCC !important');
            }            
        });
    }

    // Hides create-topic button on categories page
    var hideButton = function() {
        if(window.location.href.indexOf("categories") > -1) {
           $('button#create-topic').hide();
        }
    }

    var hideFilter = function() {
        if (window.location.href.indexOf("search") > -1 && $(window).width() <= 768){
            $('button.toggle-sidebar').show();
        } else {
            $('button.toggle-sidebar').hide();
        }
    }
    
    hideButton();
    updateBadges();
    hideFilter();
      
    var targetNode = document.getElementById('main');
    var config = { attributes: true, childList: true, subtree: true };
    
    // Callback function to execute when mutations are observed
    var callback = function(mutationsList, observer) {
        updateBadges();
        hideButton();
        hideFilter();
    };
    
    // Create an observer instance linked to the callback function
    var observer = new MutationObserver(callback);

    // Start observing the target node for configured mutations
    observer.observe(targetNode, config);

  });
</script>
